<% include ./partials/header.ejs %>

    <div class="min-h-screen bg-black text-white flex">
        <!-- Sidebar/Navbar -->
        <nav class="w-72 p-8 space-y-8 border-r border-zinc-700 hidden md:block">
            <h1 class="text-4xl font-bold mb-12 font-serif">Instagram</h1>
            <ul class="space-y-6 text-lg">
                <li><a href="/home"><i class="ri-home-5-line mr-4"></i> Home</a></li>
                <li><a href="/search"><i class="ri-search-line mr-4"></i> Search</a></li>
                <li><a href="/feed"><i class="ri-compass-3-line mr-4"></i> Explore</a></li>
                <li><a href="/create"><i class="ri-add-box-line mr-4"></i> Create</a></li>
                <li><a href="/profile"><i class="ri-user-line mr-4"></i> Profile</a></li>
            </ul>
        </nav>

        <!-- Main Content - Post Creation Form -->
        <div class="flex-1 flex items-center justify-center p-4">
            <div class="w-full max-w-4xl bg-zinc-900 rounded-lg">
                <form class="flex flex-col md:flex-row postform " action="create" method="post"
                    enctype="multipart/form-data">
                    <!-- Left Side - Image Upload -->
                    <div class="md:w-2/3 p-8 border-r border-zinc-700">
                        <h2 class="text-2xl font-bold mb-8 text-center">Create new post</h2>
                        <div class="border-2 border-dashed border-zinc-600 rounded-lg p-12 text-center">
                            <div class="mb-4">
                                <i class="ri-camera-line text-4xl text-zinc-400"></i>
                            </div>
                            <p class="text-lg mb-2">Drag photos and videos here</p>
                            <input type="file" hidden name="image" class="postimage">
                            <button type="button"
                                class="pstbtn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium">
                                Select from computer
                            </button>
                            <p class="text-sm text-zinc-400 mt-4">Click photo to tag people</p>
                        </div>
                    </div>

                    <!-- Right Side - Form Fields -->
                    <div class="md:w-1/3 p-6 space-y-6">
                        <!-- User info (could be dynamic) -->
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-zinc-700">
                                <img src="/images/uploads/<%= user.profileImage%>"
                                    class="w-full h-full object-cover rounded-full" alt="">
                            </div>
                            <span class="font-medium">
                                <%= user.username %>
                            </span>
                        </div>

                        <!-- Description Field -->
                        <div>
                            <label for="description"
                                class="block text-sm font-medium text-zinc-300 mb-1">Description</label>
                            <textarea id="description" name="description" rows="4"
                                class="w-full bg-zinc-800 border border-zinc-700 rounded-lg p-3 text-white placeholder-zinc-400 focus:ring-2 focus:ring-blue-500"
                                placeholder="Write a description..."></textarea>
                        </div>

                        <!-- Caption Field -->
                        <div>
                            <label for="caption" class="block text-sm font-medium text-zinc-300 mb-1">Caption</label>
                            <input type="text" id="caption" name="title" placeholder="Add a caption..."
                                class="w-full bg-zinc-800 border border-zinc-700 rounded-lg p-3 text-white placeholder-zinc-400 focus:ring-2 focus:ring-blue-500">
                        </div>

                        <!-- Post Button -->
                        <div class="pt-4">
                            <button type="submit"
                                class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50">
                                Share
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-xs text-center text-gray-500 mt-10 mb-4">
        <p>Meta · About · Blog · Jobs · Help · API · Privacy · Terms · Locations · Threads · Contact Uploading &
            Non-Users · Meta Verified</p>
        <p class="mt-2">© 2025 Instagram from Meta</p>
    </footer>

    <script>
        let pstbtn = document.querySelector(".pstbtn");
        let form = document.querySelector(".postform");

        pstbtn.addEventListener("click", () => {
            document.querySelector(".postform .postimage").click();
        });

        document.querySelector(".postimage").addEventListener("change", () => {
            pstbtn.innerHTML = "File Uploaded";
        });

    </script>

    <% include ./partials/footer.ejs %>